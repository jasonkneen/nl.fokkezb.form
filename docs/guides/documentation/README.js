Ext.data.JsonP.documentation({"guide":"<h1 id='documentation-section-documentation'>Documentation</h1>\n<div class='toc'>\n<p><strong>Contents</strong></p>\n<ol>\n<li><a href='#!/guide/documentation-section-jsduck'>JSDuck</a></li>\n<li><a href='#!/guide/documentation-section-github-pages'>GitHub pages</a></li>\n<li><a href='#!/guide/documentation-section-working-copies'>Working copies</a></li>\n<li><a href='#!/guide/documentation-section-re-using-readme'>Re-using README</a></li>\n<li><a href='#!/guide/documentation-section-namespacing'>Namespacing</a></li>\n<li><a href='#!/guide/documentation-section-constructors'>Constructors</a></li>\n</ol>\n</div>\n\n<p>This guide gives a little background on how I structured the documentation for this widget. This was also published as an article on <a href=\"\">tiDev.io</a>.</p>\n\n<h2 id='documentation-section-jsduck'>JSDuck</h2>\n\n<p>After reading Ronald Treur's article about <a href=\"http://www.tidev.io/2014/05/14/duckumentation/\">Duckumentation</a> on tiDev I decided to give <a href=\"https://github.com/senchalabs/jsduck\">JSDuck</a> a try for some projects and widgets I'm working on.</p>\n\n<h2 id='documentation-section-github-pages'>GitHub pages</h2>\n\n<p>I wanted to publish the documentation online with minimal effort. Since the widget lives on GitHub, using <a href=\"https://pages.github.com\">GitHub pages</a> was the logical choice. This requires the repo to have a <a href=\"https://github.com/FokkeZB/nl.fokkezb.form/tree/gh-pages\">gh-pages</a> branch which will be served as a website.</p>\n\n<h2 id='documentation-section-working-copies'>Working copies</h2>\n\n<p>Because JSDuck generates most of the documentation from inline docblocks in the code, I have set up multiple working copies on my local machine as follows:</p>\n\n<ul>\n<li><code>~/form/master</code>: the <a href=\"https://github.com/FokkeZB/nl.fokkezb.form/tree/master\">master</a> branch.</li>\n<li><code>~/form/gh-pages</code>: the <a href=\"https://github.com/FokkeZB/nl.fokkezb.form/tree/gh-pages\">gh-pages</a> branch.</li>\n<li><code>~/form/test</code>: the <a href=\"https://github.com/FokkeZB/nl.fokkezb.form/tree/test\">test</a> branch.</li>\n</ul>\n\n\n<p>This way I can keep the <code>master</code> repo clean by having all <code>jsduck-*.json</code> files in the <code>gh-pages</code> repo, just like I do for <a href=\"#!/guide/testing\">testing</a>. When I execute <code>$ jsduck</code> in the <code>gh-pages</code> branch it looks for code in <code>../master</code>, as the <a href=\"https://github.com/FokkeZB/nl.fokkezb.form/blob/gh-pages/jsduck.json\">jsduck.json</a> file shows:</p>\n\n<pre><code>{\n    \"--title\": \"Alloy Form Widget - Documentation\",\n    \"--\": [\n        \"../master\"\n    ],\n    \"--output\": \"docs\",\n    \"--welcome\": \"../master/README.md\"\n    ..\n}\n</code></pre>\n\n<h2 id='documentation-section-re-using-readme'>Re-using README</h2>\n\n<p>To stay DRY, I have re-used the <code>master</code> branch's <a href=\"https://github.com/FokkeZB/nl.fokkezb.form/blob/master/README.md\">README</a> as the welcome page. I also wanted to use the <code>test</code> branch <a href=\"https://github.com/FokkeZB/nl.fokkezb.form/blob/test/README.md\">README</a> for the <a href=\"#!/guide/testing\">testing</a> guide, but this unfortunately copied the whole test app into the guides. Of course I could still use Grunt to copy only the README before running <code>jsduck</code> if I wanted.</p>\n\n<h2 id='documentation-section-namespacing'>Namespacing</h2>\n\n<p>I want to be able to also use JSDuck to generate documentation for an app, <em>including</em> this and other widgets it uses. This is why I namespaced the widget controllers and libraries as <code>Widgets.nlFokkezbForm.controllers.*</code> instead of just. <code>controllers.field</code>. In an app's documentation this will look like:</p>\n\n<p><p><img src=\"guides/documentation/namespacing.png\" alt=\"\" width=\"528\" height=\"488\"></p></p>\n\n<blockquote><p><strong>NOTE:</strong> I was in doubt between <code>nlFokkeZB</code> and <code>nl.fokkezb.form</code>. The last would also group different widgets under <code>nl.fokkezb.*</code>, but make the tree more difficult to navigate.</p></blockquote>\n\n<h2 id='documentation-section-constructors'>Constructors</h2>\n\n<p>The code you're writing as Alloy controllers are ultimately <a href=\"https://github.com/appcelerator/alloy/blob/master/Alloy/template/component.js#L16\">wrapped by Alloy</a> in a <code>Controller</code> function exported as the CommonJS module.</p>\n\n<pre><code>..\n\nfunction Controller() {\n\n    ..\n\n    var $ = this;       \n\n    // Your view XML compiled to JS\n\n    // Your controller JS\n\n    ..\n\n    _.extend($, exports);\n}\n..\nmodule.exports = Controller;\n</code></pre>\n\n<p>Since I can't inject a docblock here, but also because I like to keep my controller code organized, I always wrap the controller's code to be executed at creation in a self-executing method like this:</p>\n\n<pre><code>(function constructor(args) {\n\n    // my controller 'constructor' code\n\n})(arguments[0] || {});\n</code></pre>\n\n<p>Now I can simply document this as:</p>\n\n<pre><code>/**\n * Constructor.\n *\n * @method Controller\n * @param args Arguments passed to the controller.\n\n */\n(function constructor(args) {\n..\n</code></pre>\n\n<p>If I'd leave out <code>@method</code> then JSDuck would warn about finding an unnamed method, because it's self-executing. If I'd use <code>@constructor</code> instead, then JSDuck would use the class and show something like:</p>\n\n<ul>\n<li>new <a href=\"#!/api/Widgets.nlFokkezbForm.controllers.widget\" rel=\"Widgets.nlFokkezbForm.controllers.widget\" class=\"docClass\">Widgets.nlFokkezbForm.controllers.widget</a>( args ) : <a href=\"#!/api/Widgets.nlFokkezbForm.controllers.widget\" rel=\"Widgets.nlFokkezbForm.controllers.widget\" class=\"docClass\">Widgets.nlFokkezbForm.controllers.widget</a></li>\n</ul>\n\n\n<p>Instead I use <code>@method Controller</code> so that the documentation stays close to how it works in the compiled Alloy controller code.</p>\n","title":"Documentation"});